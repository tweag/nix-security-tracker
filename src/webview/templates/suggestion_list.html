{% extends "base.html" %}
{% load viewutils %}

{% block content %}

{% if status_filter == "pending" %}

<h1 class="page-title row gap-small centered"><i class="icon-inbox"></i>Automatically generated suggestions</h1>
<div class="prose">
  <p><button class="btn btn-green inline-row gap-small centered" disabled><i class="icon-draft"></i>Create draft</button> to queue a suggestion for refinement.</p>
  <p><button class="btn btn-gray inline-row gap-small centered" disabled><i class="icon-bin"></i>Dismiss</button> to remove a suggestion from the queue.</p>
</div>

{% elif status_filter == "rejected" %}

<h1 class="page-title row gap-small centered"><i class="icon-bin"></i>Dismissed suggestions</h1>
<div class="prose">
  <p>These automatic suggestions were dismissed after initial triaging.</p>
  <p><button class="btn btn-green inline-row gap-small centered" disabled><i class="icon-draft"></i>Convert to draft</button> to select a suggestion for a revision.</p>
</div>

{% elif status_filter == "accepted" %}

<h1 class="page-title row gap-small centered"><i class="icon-draft"></i>Drafts</h1>
<div class="prose">
  <p><button class="btn btn-green inline-row gap-small centered" disabled><i class="icon-github"></i>Publish issue</button> to create a Nixpkgs security record and open a GitHub issue for tracking resolution. This action will notify maintainers and package subscribers, and cannot be revoked.</p>
  <p><button class="btn btn-gray inline-row gap-small centered" disabled><i class="icon-bin"></i>Dismiss</button> to remove a suggestion from the queue.</p>
</div>

{% endif %}

<div class="column gap">
  {% for object in object_list %}
    {% suggestion object.proposal object.activity_log %}
  {% endfor %}
</div>
{% endblock content %}
